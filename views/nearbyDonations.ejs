<%- include('./partials/header.ejs') %>

    <link rel="stylesheet" href="./css/style_table.css">
    <link rel="stylesheet" href="./css/style_registeredNGO.css">

    <div class="main">        
        <section class="container">
            <h1 style="font-weight: 600;">Nearby Donations</h1>
            <p>
                Discover opportunities to make a difference in your community. Explore the list below to find open donations from generous individuals 
                looking to support local causes. Whether it's books, clothes, or food, every donation counts towards creating a brighter future for those 
                in need. Get involved and be part of the positive change happening right in your neighborhood.
            </p>
        </section>
        <div class="content table-responsive">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>S.No.</th>
                        <th style="min-width: 105px;">Donar Name</th>
                        <th style="min-width: 130px;">Date of Donation</th>
                        <th style="min-width: 220px;">Type of Donation</th>
                        <th>Pickup Address</th>
                    </tr>
                </thead>
                <tbody class="table-group-divider">
                    <%  let i=1; %>
                    <% donationData.forEach(donation=>{ %>
                        <tr>
                            <td style="text-align: center;"><%= i %></td>
                            
                            <td><%= donation["donar_name"] %></td>
                            
                            <% 
                            const a = new Date(donation["date_of_donation"]);
                            %>
                            <td><%= `${a.getDate().toString().padStart(2, '0')}-${(a.getMonth() + 1).toString().padStart(2, '0')}-${a.getFullYear()}`%></td> 
                            
                            <% if(donation["type_of_donation"]==="Food") { %>
                                <td><%= donation["type_of_donation"] %> (<%= donation["type_of_event"]%>)</td>
                            <% } else { %>
                                <td><%= donation["type_of_donation"] %> </td>
                            <% } %>

                            <td><%= donation["user_pickup_address"].humanReadableAddress %></td>
                        </tr>
                    <%  i++; }); %>
                </tbody>
            </table>
        </div>
    </div>

<%- include('./partials/footer.ejs') %>

</body>
</html>